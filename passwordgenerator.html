<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-900 flex items-center justify-center min-h-screen p-4">
    <div class="bg-gray-800 p-8 rounded-2xl shadow-2xl max-w-md w-full border-4 border-purple-600">
        <h1 class="text-3xl font-bold text-white mb-6 text-center">üîê Password Generator</h1>

        <div class="mb-5">
            <label for="passwordLength" class="block text-gray-300 text-sm font-semibold mb-2">
                üî¢ Password Length: <span id="lengthValue" class="text-purple-400">12</span>
            </label>
            <input type="range" id="passwordLength" min="4" max="32" value="12"
                   class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-purple-500">
        </div>

        <div class="mb-6 grid grid-cols-1 sm:grid-cols-2 gap-3">
            <div class="flex items-center">
                <input type="checkbox" id="useUppercase" class="form-checkbox h-5 w-5 text-purple-600 rounded-md focus:ring-purple-500" checked>
                <label for="useUppercase" class="ml-2 text-gray-300">Uppercase (A-Z)</label>
            </div>
            <div class="flex items-center">
                <input type="checkbox" id="useLowercase" class="form-checkbox h-5 w-5 text-purple-600 rounded-md focus:ring-purple-500" checked>
                <label for="useLowercase" class="ml-2 text-gray-300">Lowercase (a-z)</label>
            </div>
            <div class="flex items-center">
                <input type="checkbox" id="useDigits" class="form-checkbox h-5 w-5 text-purple-600 rounded-md focus:ring-purple-500" checked>
                <label for="useDigits" class="ml-2 text-gray-300">Numbers (0-9)</label>
            </div>
            <div class="flex items-center">
                <input type="checkbox" id="useSpecial" class="form-checkbox h-5 w-5 text-purple-600 rounded-md focus:ring-purple-500" checked>
                <label for="useSpecial" class="ml-2 text-gray-300">Special (!@#$%)</label>
            </div>
        </div>

        <button id="generateBtn"
                class="w-full bg-purple-700 hover:bg-purple-800 text-white font-bold py-3 px-4 rounded-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-opacity-75">
            ‚ú® Generate Password
        </button>

        <div class="mt-6 bg-gray-700 p-4 rounded-xl flex items-center justify-between shadow-inner border border-gray-600">
            <input type="text" id="generatedPassword" readonly
                   class="flex-grow bg-transparent text-white text-lg font-mono outline-none border-none truncate"
                   placeholder="Your password will appear here...">
            <button id="copyBtn"
                    class="ml-3 bg-gray-600 hover:bg-gray-500 text-white p-2 rounded-lg transition duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-opacity-75"
                    title="Copy to clipboard">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
                    <path d="M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z" />
                    <path d="M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z" />
                </svg>
            </button>
        </div>

        <div id="messageBox" class="hidden mt-4 p-3 rounded-lg text-sm text-center" role="alert"></div>
    </div>

    <script>
        const passwordLengthInput = document.getElementById('passwordLength');
        const lengthValueSpan = document.getElementById('lengthValue');
        const useUppercaseCheckbox = document.getElementById('useUppercase');
        const useLowercaseCheckbox = document.getElementById('useLowercase');
        const useDigitsCheckbox = document.getElementById('useDigits');
        const useSpecialCheckbox = document.getElementById('useSpecial');
        const generateBtn = document.getElementById('generateBtn');
        const generatedPasswordInput = document.getElementById('generatedPassword');
        const copyBtn = document.getElementById('copyBtn');
        const messageBox = document.getElementById('messageBox');

        function showMessage(message, type) {
            messageBox.textContent = message;
            messageBox.classList.remove('hidden', 'bg-red-500', 'text-red-100', 'bg-green-500', 'text-green-100', 'bg-blue-500', 'text-blue-100');
            if (type === 'error') {
                messageBox.classList.add('bg-red-500', 'text-red-100');
            } else if (type === 'success') {
                messageBox.classList.add('bg-green-500', 'text-green-100');
            } else {
                messageBox.classList.add('bg-blue-500', 'text-blue-100');
            }
            messageBox.classList.remove('hidden');
            setTimeout(() => {
                messageBox.classList.add('hidden');
            }, 3000);
        }

        
        function generatePassword(length, useUpper, useLower, useDigits, useSpecial) {
            let characters = '';
            const uppercaseChars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            const lowercaseChars = 'abcdefghijklmnopqrstuvwxyz';
            const digitChars = '0123456789';
            const specialChars = '!@#$%^&*()_+[]{}|;:,.<>?'; 

            if (useUpper) characters += uppercaseChars;
            if (useLower) characters += lowercaseChars;
            if (useDigits) characters += digitChars;
            if (useSpecial) characters += specialChars;

            if (!characters) {
                return "‚ö† You must select at least one character type!";
            }

            let password = '';
            for (let i = 0; i < length; i++) {
                const randomIndex = Math.floor(Math.random() * characters.length);
                password += characters[randomIndex];
            }
            return password;
        }

        passwordLengthInput.addEventListener('input', () => {
            lengthValueSpan.textContent = passwordLengthInput.value;
        });

        generateBtn.addEventListener('click', () => {
            const length = parseInt(passwordLengthInput.value);
            const useUpper = useUppercaseCheckbox.checked;
            const useLower = useLowercaseCheckbox.checked;
            const useDigits = useDigitsCheckbox.checked;
            const useSpecial = useSpecialCheckbox.checked;

            const password = generatePassword(length, useUpper, useLower, useDigits, useSpecial);
            generatedPasswordInput.value = password;

            if (password.startsWith("‚ö†")) {
                showMessage(password, 'error');
            } else {
                showMessage("Password generated!", 'success');
            }
        });

        copyBtn.addEventListener('click', () => {
            if (generatedPasswordInput.value) {
                generatedPasswordInput.select();
                generatedPasswordInput.setSelectionRange(0, 99999); 

                try {
                    document.execCommand('copy');
                    showMessage("Password copied to clipboard!", 'success');
                } catch (err) {
                    showMessage("Failed to copy password. Please copy manually.", 'error');
                    console.error('Copy command failed:', err);
                }
            } else {
                showMessage("No password to copy!", 'info');
            }
        });

        generateBtn.click();
    </script>
</body>
</html>
